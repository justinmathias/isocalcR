---
output: github_document
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "man/figures/README-",
  out.width = "100%"
)
```

# isocalcR

<!-- badges: start -->
#   [![R-CMD-check](https://github.com/justinmathias/isocalcR/workflows/R-CMD-check/badge.svg)](https://github.com/justinmathias/isocalcR/actions) [![codecov](https://codecov.io/gh/justinmathias/isocalcR/branch/main/graph/badge.svg?token=W72B141APE)](https://codecov.io/gh/justinmathias/isocalcR) [![metacran downloads](https://cranlogs.r-pkg.org/badges/isocalcR)](https://cran.r-project.org/package=isocalcR) [![license](https://img.shields.io/badge/license-GPL--3-blue.svg)](https://www.gnu.org/licenses/gpl-3.0.en.html) [![CRAN_Status_Badge](https://www.r-pkg.org/badges/version/isocalcR)](https://cran.r-project.org/package=isocalcR)
<!-- badges: end -->


The goal of `isocalcR` is to provide a suite of user-friendly, open source functions for commonly performed calculations when working with stable isotope data. A major goal of `isocalcR` is to help eliminate errors associated with data compilation necessary for many standard calculations, as well as to provide the scientific community with a reliable, easily accessible resource for reproducible work. Part of this effort includes best practices of data usage, as the user is not required to download atmospheric CO~2~ or atmospheric δ^13^CO~2~ data for the workhorse calculations, but instead relies on published, peer-reviewed, and recommended publicly available data (Belmecheri and Lavergne, 2020).

## Installation

You can install the released version of isocalcR from [CRAN](https://CRAN.R-project.org) with:

``` r
install.packages("isocalcR")
```

And the development version from [GitHub](https://github.com/) with:

``` r
# install.packages("devtools")
devtools::install_github("justinmathias/isocalcR")
```

## Functionality

|`isocalcR` Function  | Description                                                                                                    |
|-------------------- |----------------------------------------------------------------------------------------------------------------|
|`d13C.to.D13C`       | Calculate leaf carbon isotope discrimination (∆^13^C) given plant tissue δ^13^C signature (‰)                     |
|`d13C.to.Ci`         | Calculate leaf intercellular CO~2~ concentration (ppm) given plant tissue δ^13^C signature (‰)                      |
|`d13C.to.CiCa`       | Calculate the ratio of leaf intercellular CO~2~ to atmospheric CO~2~ concentration (ppm) given plant tissue δ^13^C signature (‰)  |
|`d13C.to.diffCaCi`   | Calculate the difference between atmospheric CO~2~ concentration (ppm) and leaf intercellular CO~2~ concentration (ppm) given plant tissue δ^13^C signature (‰)  |
|`d13C.to.iWUE`       | Calculate leaf intrinsic water use efficiency (µmol CO~2~ mol H~2~O^-1^) given plant tissue δ^13^C signature (‰)  |



<br>

## Examples

Calculate leaf intrinsic water use efficiency from leaf δ^13^C:

```{r example}
library(isocalcR) #Load the package
d13C.to.iWUE(-27, 2015, 300, 25) #Calculate iWUE from leaf organic material with a δ13C signature of -27 ‰ for the year 2015, 300 meters above sea level at 25°C.
```

Data for atmospheric CO~2~ and atmospheric δ^13^CO~2~ for the period 0 C.E. to 2019 C.E. can be loaded and viewed.  Data are from Belmecheri and Lavergne (2020).

```{r CO2data}
data(CO2data)
head(CO2data)
```

## Literature cited
Belmecheri, S. & Lavergne, A. (2020). Compiled records of atmospheric CO2 concentrations and stable carbon isotopes to reconstruct climate and derive plant ecophysiological indices from tree rings. Dendrochronologia, 63, 125748.
